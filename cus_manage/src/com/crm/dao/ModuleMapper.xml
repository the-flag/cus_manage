<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.crm.dao.ModuleMapper">
	
	<select id="selectModules" resultType="module">
		SELECT module_id,module_name,module_path,module_weight,module_parent_id FROM module;
	</select>
	
	<select id="selectModulesByRoleId" parameterType="int" resultType="module">
		SELECT m.module_id,m.module_name,m.module_path,m.module_weight,m.module_parent_id 
		FROM module m INNER JOIN role_module rm ON m.module_id=rm.module_id 
		WHERE rm.role_id=#{role_id}
	</select>
	
	<select id="selectModuleByRoleId" parameterType="int" resultType="int">
		SELECT m.module_id FROM module m INNER JOIN role_module rm ON m.module_id=rm.module_id 
		WHERE rm.role_id=#{role_id}
	</select>
	
	
</mapper>